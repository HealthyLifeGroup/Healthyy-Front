import{A as ve,B as Lt,C as Ht,D as oe,E as Ut,F as Gt,G as zt,H as Wt,I as $t,J as Kt,K as Qt,L as xe,M as Yt,N as Xt,O as Zt,P as Jt,Q as ei,R as ti,S as Ke,T as Qe,U as Ye,V as ii,W as Pe,X as ri,a as Q,b as h,c as Ot,d as Y,e as X,f as Et,g as Z,h as be,i as wt,j as L,k as J,l as It,m as ee,o as te,p as Be,q as kt,r as je,s as Ft,t as Dt,u as Tt,v as ze,w as At,x as Rt,y as Nt,z as Vt}from"./chunk-Q6Y3J73D.js";import{a as _e,b as R,g as xt,h as x,k as Pt,l as N,m as V,o as St,p as Mt}from"./chunk-VPEIYDO5.js";import{c as We,d as $e,f as Ce,g as qt,h as ye,i as Bt,j as jt}from"./chunk-Q64FFBLU.js";import{A as Ne,Ab as b,Bb as gt,C as se,Cb as y,Db as ht,Eb as _t,Fb as T,G as rt,Gb as z,Hb as Ge,I as nt,Ia as s,Ib as bt,Ja as M,Q as Ve,Qb as vt,R as Le,S as q,Sb as W,Tb as qe,Wa as dt,X as A,Y as ot,Za as f,_ as ce,ab as de,ba as c,bb as m,cb as ue,eb as ut,fa as v,fb as He,g as tt,ga as at,gb as o,gc as $,hb as n,hc as K,ia as me,ib as p,ic as k,j as ne,jb as D,kc as Ct,lc as yt,mb as _,mc as F,n as ae,na as lt,oa as P,ob as g,pa as S,pb as ft,qa as st,qb as Ue,r as G,rb as fe,sa as ct,sb as ge,tb as B,ub as j,va as pe,w as it,wa as mt,xb as he,ya as pt,yb as l,z as le,zb as C}from"./chunk-NGZZAXMA.js";var Se=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-customer-layout"]],standalone:!0,features:[y],decls:5,vars:0,consts:[[1,"layout-container"],[1,"content-wrapper"]],template:function(e,t){e&1&&(o(0,"div",0),p(1,"app-navbar-home"),o(2,"main",1),p(3,"router-outlet"),n(),p(4,"app-footer"),n())},dependencies:[St,Mt,xt],styles:[".layout-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.content-wrapper[_ngcontent-%COMP%]{flex:1 0 auto}app-footer[_ngcontent-%COMP%]{flex-shrink:0}"]})};var I=class r{baseURL=`${N.baseURL}/admin/profiles`;http=c(R);storageService=c(V);existsProfile(){let i=this.storageService.getAuthData();if(!i)return new tt(a=>a.next(!1));let{username:e}=i,t=new _e().set("username",e);return this.http.get(`${this.baseURL}/exists`,{params:t})}createProfile(i){return this.http.post(`${this.baseURL}`,i)}getUserProfile(){let i=this.storageService.getAuthData();if(!i)throw new Error("No se encontr\xF3 informaci\xF3n de autenticaci\xF3n");let{username:e}=i;return this.http.get(`${this.baseURL}/${e}`)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=A({token:r,factory:r.\u0275fac,providedIn:"root"})};var Pi=["trigger"],Si=["panel"],Mi=[[["mat-select-trigger"]],"*"],Oi=["mat-select-trigger","*"];function Ei(r,i){if(r&1&&(o(0,"span",4),l(1),n()),r&2){let e=g();s(),C(e.placeholder)}}function wi(r,i){r&1&&Ue(0)}function Ii(r,i){if(r&1&&(o(0,"span",11),l(1),n()),r&2){let e=g(2);s(),C(e.triggerValue)}}function ki(r,i){if(r&1&&(o(0,"span",5),f(1,wi,1,0)(2,Ii,2,1,"span",11),n()),r&2){let e=g();s(),He(e.customTrigger?1:2)}}function Fi(r,i){if(r&1){let e=D();o(0,"div",12,1),_("@transformPanel.done",function(a){P(e);let d=g();return S(d._panelDoneAnimatingStream.next(a.toState))})("keydown",function(a){P(e);let d=g();return S(d._handleKeydown(a))}),Ue(2,1),n()}if(r&2){let e=g();ut("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),m("ngClass",e.panelClass)("@transformPanel","showing"),de("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var Di={transformPanelWrap:We("transformPanelWrap",[ye("* => void",jt("@transformPanel",[Bt()],{optional:!0}))]),transformPanel:We("transformPanel",[qt("void",Ce({opacity:0,transform:"scale(1, 0.8)"})),ye("void => showing",$e("120ms cubic-bezier(0, 0, 0.2, 1)",Ce({opacity:1,transform:"scale(1, 1)"}))),ye("* => void",$e("100ms linear",Ce({opacity:0})))])};var si=0,ci=new ce("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let r=c(Ke);return()=>r.scrollStrategies.reposition()}});function Ti(r){return()=>r.scrollStrategies.reposition()}var Ai=new ce("MAT_SELECT_CONFIG"),Ri={provide:ci,deps:[Ke],useFactory:Ti},Ni=new ce("MatSelectTrigger"),Xe=class{constructor(i,e){this.source=i,this.value=e}},mi=(()=>{class r{_scrollOptionIntoView(e){let t=this.options.toArray()[e];if(t){let a=this.panel.nativeElement,d=Lt(e,this.options,this.optionGroups),u=t._getHostElement();e===0&&d===1?a.scrollTop=0:a.scrollTop=Ht(u.offsetTop,u.offsetHeight,a.scrollTop,a.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new Xe(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(h.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,t,a,d,u,U,E,fi,gi,et,hi,_i,bi,Ae){this._viewportRuler=e,this._changeDetectorRef=t,this._elementRef=u,this._dir=U,this._parentFormField=gi,this.ngControl=et,this._liveAnnouncer=bi,this._defaultOptions=Ae,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(w,Re)=>w===Re,this._uid=`mat-select-${si++}`,this._triggerAriaLabelledBy=null,this._destroy=new ne,this.stateChanges=new ne,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${si++}`,this._panelDoneAnimatingStream=new ne,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new ne,this.optionSelectionChanges=it(()=>{let w=this.options;return w?w.changes.pipe(Ve(w),Le(()=>le(...w.map(Re=>Re.onSelectionChange)))):this._initialized.pipe(Le(()=>this.optionSelectionChanges))}),this.openedChange=new pe,this._openedStream=this.openedChange.pipe(Ne(w=>w),G(()=>{})),this._closedStream=this.openedChange.pipe(Ne(w=>!w),G(()=>{})),this.selectionChange=new pe,this.valueChange=new pe,this._trackedModal=null,this._skipPredicate=w=>this.panelOpen?!1:w.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),Ae?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=Ae.typeaheadDebounceInterval),this._errorStateTracker=new At(d,et,fi,E,this.stateChanges),this._scrollStrategyFactory=_i,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(hi)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Jt(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(nt(),q(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(q(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(q(this._destroy)).subscribe(e=>{e.added.forEach(t=>t.select()),e.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Ve(null),q(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),t=this.ngControl;if(e!==this._triggerAriaLabelledBy){let a=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?a.setAttribute("aria-labelledby",e):a.removeAttribute("aria-labelledby")}t&&(this._previousControl!==t.control&&(this._previousControl!==void 0&&t.disabled!==null&&t.disabled!==this.disabled&&(this.disabled=t.disabled),this._previousControl=t.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=`${this.id}-panel`;this._trackedModal&&je(this._trackedModal,"aria-owns",t),kt(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;je(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let t=e.keyCode,a=t===40||t===38||t===37||t===39,d=t===13||t===32,u=this._keyManager;if(!u.isTyping()&&d&&!Be(e)||(this.multiple||e.altKey)&&a)e.preventDefault(),this.open();else if(!this.multiple){let U=this.selected;u.onKeydown(e);let E=this.selected;E&&U!==E&&this._liveAnnouncer.announce(E.viewValue,1e4)}}_handleOpenKeydown(e){let t=this._keyManager,a=e.keyCode,d=a===40||a===38,u=t.isTyping();if(d&&e.altKey)e.preventDefault(),this.close();else if(!u&&(a===13||a===32)&&t.activeItem&&!Be(e))e.preventDefault(),t.activeItem._selectViaInteraction();else if(!u&&this._multiple&&a===65&&e.ctrlKey){e.preventDefault();let U=this.options.some(E=>!E.disabled&&!E.selected);this.options.forEach(E=>{E.disabled||(U?E.select():E.deselect())})}else{let U=t.activeItemIndex;t.onKeydown(e),this._multiple&&d&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==U&&t.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(rt(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(t=>this._selectOptionByValue(t)),this._sortValues();else{let t=this._selectOptionByValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let t=this.options.find(a=>{if(this._selectionModel.isSelected(a))return!1;try{return a.value!=null&&this._compareWith(a.value,e)}catch{return!1}});return t&&this._selectionModel.select(t),t}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Qe?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Ft(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=le(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(q(e)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),le(...this.options.map(t=>t._stateChanges)).pipe(q(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,t){let a=this._selectionModel.isSelected(e);e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(a!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())),a!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((t,a)=>this.sortComparator?this.sortComparator(t,a,e):e.indexOf(t)-e.indexOf(a)),this.stateChanges.next()}}_propagateChanges(e){let t;this.multiple?t=this.selected.map(a=>a.value):t=this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let t=0;t<this.options.length;t++)if(!this.options.get(t).disabled){e=t;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),t=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static{this.\u0275fac=function(t){return new(t||r)(M(ei),M(vt),M(mt),M(Rt),M(pt),M(Tt,8),M(Et,8),M(L,8),M(Kt,8),M(Ot,10),ct("tabindex"),M(ci),M(Dt),M(Ai,8))}}static{this.\u0275cmp=v({type:r,selectors:[["mat-select"]],contentQueries:function(t,a,d){if(t&1&&(fe(d,Ni,5),fe(d,ve,5),fe(d,Vt,5)),t&2){let u;B(u=j())&&(a.customTrigger=u.first),B(u=j())&&(a.options=u),B(u=j())&&(a.optionGroups=u)}},viewQuery:function(t,a){if(t&1&&(ge(Pi,5),ge(Si,5),ge(Ye,5)),t&2){let d;B(d=j())&&(a.trigger=d.first),B(d=j())&&(a.panel=d.first),B(d=j())&&(a._overlayDir=d.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,a){t&1&&_("keydown",function(u){return a._handleKeydown(u)})("focus",function(){return a._onFocus()})("blur",function(){return a._onBlur()}),t&2&&(de("id",a.id)("tabindex",a.disabled?-1:a.tabIndex)("aria-controls",a.panelOpen?a.id+"-panel":null)("aria-expanded",a.panelOpen)("aria-label",a.ariaLabel||null)("aria-required",a.required.toString())("aria-disabled",a.disabled.toString())("aria-invalid",a.errorState)("aria-activedescendant",a._getAriaActiveDescendant()),ue("mat-mdc-select-disabled",a.disabled)("mat-mdc-select-invalid",a.errorState)("mat-mdc-select-required",a.required)("mat-mdc-select-empty",a.empty)("mat-mdc-select-multiple",a.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",W],disableRipple:[2,"disableRipple","disableRipple",W],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:qe(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",W],placeholder:"placeholder",required:[2,"required","required",W],multiple:[2,"multiple","multiple",W],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",W],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",qe],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[gt([{provide:$t,useExisting:r},{provide:Nt,useExisting:r}]),dt,lt,y],ngContentSelectors:Oi,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(t,a){if(t&1){let d=D();ft(Mi),o(0,"div",2,0),_("click",function(){return P(d),S(a.open())}),o(3,"div",3),f(4,Ei,2,1,"span",4)(5,ki,3,1,"span",5),n(),o(6,"div",6)(7,"div",7),st(),o(8,"svg",8),p(9,"path",9),n()()()(),f(10,Fi,3,9,"ng-template",10),_("backdropClick",function(){return P(d),S(a.close())})("attach",function(){return P(d),S(a._onAttached())})("detach",function(){return P(d),S(a.close())})}if(t&2){let d=he(1);s(3),de("id",a._valueId),s(),He(a.empty?4:5),s(6),m("cdkConnectedOverlayPanelClass",a._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",a._scrollStrategy)("cdkConnectedOverlayOrigin",a._preferredOverlayOrigin||d)("cdkConnectedOverlayOpen",a.panelOpen)("cdkConnectedOverlayPositions",a._positions)("cdkConnectedOverlayWidth",a._overlayWidth)}},dependencies:[Qe,Ye,$],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[Di.transformPanel]},changeDetection:0})}}return r})();var pi=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=at({type:r})}static{this.\u0275inj=ot({providers:[Ri],imports:[F,ii,oe,ze,ti,xe,oe,ze]})}}return r})();function Li(r,i){r&1&&(o(0,"mat-error"),l(1,"Este campo es obligatorio"),n())}function Hi(r,i){r&1&&(o(0,"mat-error"),l(1,"Este campo es obligatorio"),n())}function Ui(r,i){r&1&&(o(0,"mat-error"),l(1,"La altura debe ser mayor que 0"),n())}function Gi(r,i){r&1&&(o(0,"mat-error"),l(1,"Este campo es obligatorio"),n())}function qi(r,i){r&1&&(o(0,"mat-error"),l(1,"El peso debe ser mayor que 0"),n())}function Bi(r,i){r&1&&(o(0,"mat-error"),l(1,"Este campo es obligatorio"),n())}function ji(r,i){r&1&&(o(0,"mat-error"),l(1,"La edad debe ser mayor o igual a 18"),n())}function zi(r,i){r&1&&(o(0,"mat-error"),l(1,"La edad no debe ser mayor a 120"),n())}function Wi(r,i){r&1&&(o(0,"mat-error"),l(1,"Este campo es obligatorio"),n())}var Me=class r{profileForm;fb=c(ee);snackBar=c(Pe);router=c(x);profileService=c(I);constructor(){this.profileForm=this.fb.group({userName:["",[h.required]],height:["",[h.required,h.min(1)]],weight:["",[h.required,h.min(1)]],age:["",[h.required,h.min(18),h.max(120)]],gender:["",[h.required]],healthConditions:[""]})}controlHasError(i,e){return this.profileForm.controls[i].hasError(e)}onSubmit(){if(this.profileForm.invalid)return;let i=this.profileForm.value;this.profileService.createProfile(i).subscribe({next:()=>{this.router.navigate(["/customer/profile"])},error:e=>{console.error("Error al crear el perfil",e)}})}showSnackBar(i){this.snackBar.open(i,"Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom"})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-create-profile"]],standalone:!0,features:[y],decls:52,vars:11,consts:[[1,"create-profile-container"],[1,"create-profile-content"],[1,"create-profile-header"],[1,"create-profile-subtext"],[1,"create-profile-form",3,"ngSubmit","formGroup"],[1,"form-row"],["appearance","outline",1,"form-input"],["matInput","","formControlName","userName","placeholder","Introduce tu nombre de usuario"],[4,"ngIf"],["matInput","","formControlName","height","type","number","placeholder","Introduce tu altura"],["matInput","","formControlName","weight","type","number","placeholder","Introduce tu peso"],["matInput","","formControlName","age","type","number","placeholder","Introduce tu edad"],["formControlName","gender"],["value","MALE"],["value","FEMALE"],["value","OTHER"],["appearance","outline",1,"form-input","full-width"],["matInput","","formControlName","healthConditions","placeholder","Introduce cualquier condici\xF3n de salud","rows","4"],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),l(3,"Crear Perfil"),n(),o(4,"p",3),l(5,"Por favor, completa los campos para crear tu perfil"),n(),o(6,"form",4),_("ngSubmit",function(){return t.onSubmit()}),o(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),l(10,"Nombre de usuario"),n(),p(11,"input",7),f(12,Li,2,0,"mat-error",8),n()(),o(13,"div",5)(14,"mat-form-field",6)(15,"mat-label"),l(16,"Altura (en cm)"),n(),p(17,"input",9),f(18,Hi,2,0,"mat-error",8)(19,Ui,2,0,"mat-error",8),n(),o(20,"mat-form-field",6)(21,"mat-label"),l(22,"Peso (en kg)"),n(),p(23,"input",10),f(24,Gi,2,0,"mat-error",8)(25,qi,2,0,"mat-error",8),n()(),o(26,"div",5)(27,"mat-form-field",6)(28,"mat-label"),l(29,"Edad"),n(),p(30,"input",11),f(31,Bi,2,0,"mat-error",8)(32,ji,2,0,"mat-error",8)(33,zi,2,0,"mat-error",8),n(),o(34,"mat-form-field",6)(35,"mat-label"),l(36,"G\xE9nero"),n(),o(37,"mat-select",12)(38,"mat-option",13),l(39,"Masculino"),n(),o(40,"mat-option",14),l(41,"Femenino"),n(),o(42,"mat-option",15),l(43,"Otro"),n()(),f(44,Wi,2,0,"mat-error",8),n()(),o(45,"div",5)(46,"mat-form-field",16)(47,"mat-label"),l(48,"Condiciones de salud"),n(),p(49,"textarea",17),n()(),o(50,"button",18),l(51," Crear Perfil "),n()()()()),e&2&&(s(6),m("formGroup",t.profileForm),s(6),m("ngIf",t.controlHasError("userName","required")),s(6),m("ngIf",t.controlHasError("height","required")),s(),m("ngIf",t.controlHasError("height","min")),s(5),m("ngIf",t.controlHasError("weight","required")),s(),m("ngIf",t.controlHasError("weight","min")),s(6),m("ngIf",t.controlHasError("age","required")),s(),m("ngIf",t.controlHasError("age","min")),s(),m("ngIf",t.controlHasError("age","max")),s(11),m("ngIf",t.controlHasError("gender","required")),s(6),m("disabled",t.profileForm.invalid))},dependencies:[Gt,Ut,Xt,Yt,Qt,zt,Wt,Zt,ri,pi,mi,ve,xe,oe,F,k,te,Z,Q,be,Y,X,L,J],styles:[".create-profile-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f5f5f5;padding:20px}.create-profile-content[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:8px;box-shadow:0 4px 6px #0000001a;width:100%;max-width:600px}.create-profile-header[_ngcontent-%COMP%]{text-align:center;font-size:2rem;margin-bottom:20px;color:#333}.create-profile-subtext[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;color:#666}.create-profile-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-row[_ngcontent-%COMP%]{display:flex;gap:20px}.form-input[_ngcontent-%COMP%]{flex:1}.full-width[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}.submit-button[_ngcontent-%COMP%]{background-color:#4f46e5;color:#fff;font-size:1rem;padding:12px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.submit-button[_ngcontent-%COMP%]:hover{background-color:#4338ca}.submit-button[_ngcontent-%COMP%]:active{background-color:#312e81}mat-error[_ngcontent-%COMP%]{color:#f44336}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{flex-direction:column}}"]})};function $i(r,i){if(r&1&&(o(0,"div")(1,"header",3)(2,"h2"),l(3),n()(),o(4,"div",4)(5,"div",5)(6,"div",6),p(7,"i",7),o(8,"strong"),l(9,"Nombre:"),n(),l(10),n(),o(11,"div",6),p(12,"i",8),o(13,"strong"),l(14,"Altura:"),n(),l(15),n(),o(16,"div",6),p(17,"i",9),o(18,"strong"),l(19,"Peso:"),n(),l(20),n(),o(21,"div",6),p(22,"i",10),o(23,"strong"),l(24,"Edad:"),n(),l(25),n(),o(26,"div",6),p(27,"i",11),o(28,"strong"),l(29,"G\xE9nero:"),n(),l(30),n(),o(31,"div",6),p(32,"i",12),o(33,"strong"),l(34,"Condiciones de salud:"),n(),o(35,"p"),l(36),n()()()()()),r&2){let e=g();s(3),b("Perfil de ",e.profile.name,""),s(7),b(" ",e.profile.name," "),s(5),b(" ",e.profile.height," cm "),s(5),b(" ",e.profile.weight," kg "),s(5),b(" ",e.profile.age," a\xF1os "),s(5),b(" ",e.profile.gender," "),s(6),C(e.profile.healthConditions||"No se han especificado condiciones de salud.")}}function Ki(r,i){r&1&&(o(0,"div",13)(1,"h4"),l(2,"No se ha encontrado un perfil"),n(),o(3,"p"),l(4,"Parece que a\xFAn no has creado tu perfil. \xA1Empieza tu viaje hacia una vida m\xE1s saludable hoy!"),n()())}var Oe=class r{profileExists=!1;profile=null;profileService=c(I);router=c(x);constructor(){}ngOnInit(){this.checkProfile(),this.showProfile()}checkProfile(){this.profileService.existsProfile().subscribe(i=>{this.profileExists=i,i===!1?this.router.navigate(["/customer/create-profile"]):this.showProfile()})}showProfile(){this.profileService.getUserProfile().subscribe({next:i=>{this.profile=i},error:i=>{console.error("Error al obtener el perfil:",i)}})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-customer-profile"]],standalone:!0,features:[y],decls:4,vars:2,consts:[["noProfile",""],[1,"profile-container"],[4,"ngIf","ngIfElse"],[1,"profile-header"],[1,"profile-card"],[1,"profile-details"],[1,"profile-item"],[1,"fas","fa-user"],[1,"fas","fa-ruler-vertical"],[1,"fas","fa-weight"],[1,"fas","fa-birthday-cake"],[1,"fas","fa-venus-mars"],[1,"fas","fa-heartbeat"],[1,"no-profile-alert"]],template:function(e,t){if(e&1&&(o(0,"div",1),f(1,$i,37,7,"div",2)(2,Ki,5,0,"ng-template",null,0,bt),n()),e&2){let a=he(3);s(),m("ngIf",t.profileExists&&t.profile)("ngIfElse",a)}},dependencies:[k],styles:[".profile-container[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:2rem;border-radius:8px;box-shadow:0 2px 4px #0000001a}.profile-header[_ngcontent-%COMP%]{margin-bottom:2rem}.profile-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#006400;font-size:2rem;font-weight:700}.profile-card[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:8px;border:1px solid #90EE90}.profile-details[_ngcontent-%COMP%]{display:grid;gap:1.5rem}.profile-item[_ngcontent-%COMP%]{display:flex;align-items:center}.profile-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#006400;font-size:1.2rem;margin-right:1rem;width:20px}.profile-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#006400;margin-right:.5rem}.profile-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.no-profile-alert[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400;padding:1.5rem;border-radius:8px;text-align:center}.no-profile-alert[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1rem}@media (max-width: 768px){.profile-container[_ngcontent-%COMP%], .profile-card[_ngcontent-%COMP%]{padding:1rem}.profile-details[_ngcontent-%COMP%]{gap:1rem}}"]})};var H=class r{baseURL=`${N.baseURL}/admin/plans`;http=c(R);createPlan(i){return this.http.post(`${this.baseURL}`,i)}getActivePlans(i,e){let t=new _e().set("page",i.toString()).set("size",e.toString());return this.http.get(`${this.baseURL}/page`,{params:t})}getPlanById(i){return this.http.get(`${this.baseURL}/${i}`)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=A({token:r,factory:r.\u0275fac,providedIn:"root"})};var Ee=class r{fb=c(ee);router=c(x);planService=c(H);planForm;minDate;constructor(){this.planForm=this.fb.group({planName:["",h.required],description:["",h.required],endDate:["",h.required]});let i=new Date;this.minDate=i.toISOString().slice(0,16)}controlHasError(i,e){return this.planForm.controls[i].hasError(e)}onSubmit(){if(this.planForm.invalid)return;let i=this.planForm.value;this.planService.createPlan(i).subscribe({next:()=>{this.router.navigate(["customer/home"])},error:e=>{console.error("Error al crear plan",e)}})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-create-plan"]],standalone:!0,features:[y],decls:23,vars:3,consts:[[1,"create-plan-container"],[1,"create-plan-header"],[1,"create-plan-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","planName"],[1,"fas","fa-file-signature"],["type","text","id","planName","formControlName","planName","placeholder","Ingresa el nombre de tu plan",1,"form-control"],["for","description"],[1,"fas","fa-align-left"],["id","description","formControlName","description","placeholder","Describe los objetivos y detalles de tu plan",1,"form-control"],["for","endDate"],[1,"fas","fa-calendar-alt"],["type","datetime-local","id","endDate","formControlName","endDate",1,"form-control",3,"min"],["type","submit",1,"btn-create-plan",3,"disabled"],[1,"fas","fa-check"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"header",1)(2,"h2"),l(3,"Crear Nuevo Plan de Salud"),n()(),o(4,"form",2),_("ngSubmit",function(){return t.onSubmit()}),o(5,"div",3)(6,"label",4),p(7,"i",5),l(8," Nombre del Plan: "),n(),p(9,"input",6),n(),o(10,"div",3)(11,"label",7),p(12,"i",8),l(13," Descripci\xF3n: "),n(),p(14,"textarea",9),n(),o(15,"div",3)(16,"label",10),p(17,"i",11),l(18," Fecha de Finalizaci\xF3n: "),n(),p(19,"input",12),n(),o(20,"button",13),p(21,"i",14),l(22," Crear Plan "),n()()()),e&2&&(s(4),m("formGroup",t.planForm),s(15),m("min",t.minDate),s(),m("disabled",!t.planForm.valid))},dependencies:[te,Z,Q,Y,X,L,J],styles:[".create-plan-container[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:2rem;border-radius:8px;box-shadow:0 2px 4px #0000001a}.create-plan-header[_ngcontent-%COMP%]{margin-bottom:2rem}.create-plan-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#006400;font-size:2rem;font-weight:700}.create-plan-form[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:8px;border:1px solid #90EE90}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#006400;font-weight:700}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #90EE90;border-radius:4px;font-size:1rem}textarea.form-control[_ngcontent-%COMP%]{min-height:100px}.btn-create-plan[_ngcontent-%COMP%]{background-color:#006400;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .3s ease}.btn-create-plan[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#004d00}.btn-create-plan[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.btn-create-plan[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}@media (max-width: 768px){.create-plan-container[_ngcontent-%COMP%], .create-plan-form[_ngcontent-%COMP%]{padding:1rem}}"]})};var re=class r{transform(i){switch(i){case"ACTIVE":return"ACTIVO";case"COMPLETED":return"COMPLETADO";case"ABANDONED":return"ABANDONADO";default:return i}}static \u0275fac=function(e){return new(e||r)};static \u0275pipe=me({name:"planStatus",type:r,pure:!0,standalone:!0})};var Qi=(r,i,e)=>({active:r,completed:i,abandoned:e});function Yi(r,i){if(r&1){let e=D();o(0,"div",11)(1,"div",12)(2,"h3",13),l(3),n(),o(4,"p",14),l(5),n(),o(6,"span",15),l(7),T(8,"planStatus"),n()(),o(9,"button",16),_("click",function(){let a=P(e).$implicit,d=g();return S(d.goToPlanDetails(a.planId))}),l(10," Ver Detalles "),n()()}if(r&2){let e=i.$implicit;s(3),C(e.planName),s(2),C(e.description),s(),m("ngClass",_t(6,Qi,e.planStatus==="ACTIVE",e.planStatus==="COMPLETED",e.planStatus==="ABANDONED")),s(),b(" ",z(8,4,e.planStatus)," ")}}function Xi(r,i){if(r&1){let e=D();o(0,"button",23),_("click",function(){let a=P(e).$implicit,d=g(2);return S(d.changePage(a))}),l(1),n()}if(r&2){let e=i.$implicit,t=g(2);ue("active",e===t.currentPage),s(),b(" ",e," ")}}function Zi(r,i){if(r&1){let e=D();o(0,"nav",17)(1,"button",18),_("click",function(){P(e);let a=g();return S(a.changePage(a.currentPage-1))}),p(2,"i",19),l(3," Anterior "),n(),o(4,"div",20),f(5,Xi,2,3,"button",21),n(),o(6,"button",18),_("click",function(){P(e);let a=g();return S(a.changePage(a.currentPage+1))}),l(7," Siguiente "),p(8,"i",22),n()()}if(r&2){let e=g();s(),m("disabled",e.currentPage===1),s(4),m("ngForOf",e.pages),s(),m("disabled",e.currentPage===e.totalPages)}}var we=class r{profile;activePlans=[];pages=[];currentPage=1;totalPages=1;router=c(x);planService=c(H);profileService=c(I);storageService=c(V);snackBar=c(Pe);ngOnInit(){this.loadActivePlans()}loadActivePlans(){this.planService.getActivePlans(this.currentPage-1,4).subscribe(i=>{console.log("Datos de planes:",i),this.activePlans=i.content,this.totalPages=i.totalPages,this.pages=Array.from({length:this.totalPages},(e,t)=>t+1)}),this.profileService.getUserProfile().subscribe({next:i=>{this.profile=i},error:i=>{this.showSnackBar("Error al obtener el perfil")}})}updatePlansForCurrentPage(){let i=(this.currentPage-1)*4,e=i+4;this.activePlans=this.activePlans.slice(i,e)}changePage(i){i>=1&&i<=this.totalPages&&(this.currentPage=i,this.loadActivePlans())}createNewPlan(){this.router.navigate(["/customer/plan/create-plan"])}goToPlanDetails(i){this.storageService.setPlanId(i),this.router.navigate(["/customer/plan"])}showSnackBar(i){this.snackBar.open(i,"Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom"})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-customer-home"]],standalone:!0,features:[y],decls:16,vars:3,consts:[[1,"customer-home-container"],[1,"welcome-header"],[1,"welcome-message"],[1,"user-name"],[1,"plans-section"],[1,"plans-header"],[1,"btn-create-plan",3,"click"],[1,"fas","fa-leaf"],[1,"plans-grid"],["class","plan-card",4,"ngFor","ngForOf"],["class","pagination-nav",4,"ngIf"],[1,"plan-card"],[1,"plan-card-content"],[1,"plan-title"],[1,"plan-description"],[1,"plan-status",3,"ngClass"],[1,"btn-plan-details",3,"click"],[1,"pagination-nav"],[1,"btn-nav",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"page-numbers"],["class","btn-page",3,"active","click",4,"ngFor","ngForOf"],[1,"fas","fa-chevron-right"],[1,"btn-page",3,"click"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"header",1)(2,"h1",2),l(3,"Bienvenido, "),o(4,"span",3),l(5),n()()(),o(6,"section",4)(7,"div",5)(8,"h2"),l(9,"Tus Planes de Salud"),n(),o(10,"button",6),_("click",function(){return t.createNewPlan()}),p(11,"i",7),l(12," Nuevo Plan Saludable "),n()(),o(13,"div",8),f(14,Yi,11,10,"div",9),n(),f(15,Zi,9,3,"nav",10),n()()),e&2&&(s(5),C(t.profile.name),s(9),m("ngForOf",t.activePlans),s(),m("ngIf",t.totalPages>1))},dependencies:[re,F,$,K,k],styles:[".customer-home-container[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:2rem}.welcome-header[_ngcontent-%COMP%]{margin-bottom:2rem}.welcome-message[_ngcontent-%COMP%]{font-size:2rem;color:#006400}.user-name[_ngcontent-%COMP%]{font-weight:700}.plans-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.btn-create-plan[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400;border:none;padding:.75rem 1rem;border-radius:5px;font-weight:700;cursor:pointer;transition:background-color .3s}.btn-create-plan[_ngcontent-%COMP%]:hover{background-color:#006400;color:#fff}.plans-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.plan-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;overflow:hidden;border:1px solid #90EE90;box-shadow:0 2px 4px #0000001a;transition:transform .3s,box-shadow .3s;display:flex;flex-direction:column}.plan-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 8px #0003}.plan-card-content[_ngcontent-%COMP%]{padding:1.5rem;flex-grow:1;flex-direction:column}.plan-title[_ngcontent-%COMP%]{color:#006400;font-size:1.25rem;font-weight:700;margin-bottom:.5rem}.plan-description[_ngcontent-%COMP%]{color:#333;font-size:.875rem;margin-bottom:1rem}.plan-status[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;border-radius:15px;font-size:.75rem;font-weight:700}.plan-status.active[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400}.plan-status.completed[_ngcontent-%COMP%]{background-color:#4169e1;color:#fff}.plan-status.abandoned[_ngcontent-%COMP%]{background-color:tomato;color:#fff}.btn-plan-details[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400;border:none;width:100%;padding:.75rem;font-weight:700;cursor:pointer;transition:background-color .3s}.btn-plan-details[_ngcontent-%COMP%]:hover{background-color:#006400;color:#fff}.pagination-nav[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:2rem}.btn-nav[_ngcontent-%COMP%], .btn-page[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #90EE90;color:#006400;padding:.5rem 1rem;margin:0 .25rem;cursor:pointer;transition:background-color .3s,color .3s}.btn-nav[_ngcontent-%COMP%]:hover, .btn-page[_ngcontent-%COMP%]:hover, .btn-page.active[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400}.btn-nav[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 768px){.plans-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.btn-create-plan[_ngcontent-%COMP%]{margin-top:1rem}.plans-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var Ie=class r{transform(i){switch(i){case"IN_PROGRESS":return"En Progreso";case"ACHIEVED":return"Alcanzado";case"FAILED":return"Fallido";case"ABANDONED":return"Abandonado";default:return i}}static \u0275fac=function(e){return new(e||r)};static \u0275pipe=me({name:"goalStatus",type:r,pure:!0,standalone:!0})};function Ji(r,i){if(r&1&&(o(0,"div",15)(1,"h4",16),l(2),n(),o(3,"p")(4,"strong"),l(5,"Tipo de h\xE1bito:"),n(),l(6),n(),o(7,"p")(8,"strong"),l(9,"Valor Objetivo:"),n(),l(10),n(),o(11,"p")(12,"strong"),l(13,"Valor Actual:"),n(),l(14),n(),o(15,"p")(16,"strong"),l(17,"Estado:"),n(),o(18,"span",9),T(19,"lowercase"),l(20),T(21,"goalStatus"),n()()()),r&2){let e=i.$implicit;s(2),C(e.habitName),s(4),b(" ",e.habitTypeName,""),s(4),b(" ",e.targetValue,""),s(4),b(" ",e.currentValue,""),s(4),m("ngClass",z(19,6,e.goalStatus)),s(2),C(z(21,8,e.goalStatus))}}function er(r,i){if(r&1&&(o(0,"div",13),f(1,Ji,22,10,"div",14),n()),r&2){let e=g(2);s(),m("ngForOf",e.plan.goals)}}function tr(r,i){r&1&&(o(0,"p",17),p(1,"i",18),l(2," No hay metas asociadas a este plan. "),n())}function ir(r,i){if(r&1){let e=D();o(0,"div",1)(1,"header",2)(2,"h2",3),l(3,"Detalles del Plan"),n(),o(4,"button",4),_("click",function(){P(e);let a=g();return S(a.createNewGoal())}),p(5,"i",5),l(6," Crear nueva meta "),n()(),o(7,"div",6)(8,"h3",7),l(9),n(),o(10,"div",8)(11,"p")(12,"strong"),l(13,"Descripci\xF3n:"),n(),l(14),n(),o(15,"p")(16,"strong"),l(17,"Fecha de Inicio:"),n(),l(18),T(19,"date"),n(),o(20,"p")(21,"strong"),l(22,"Fecha de Finalizaci\xF3n:"),n(),l(23),T(24,"date"),n(),o(25,"p")(26,"strong"),l(27,"Estado:"),n(),o(28,"span",9),T(29,"lowercase"),l(30),T(31,"planStatus"),n()()()(),o(32,"div",10)(33,"h3",3),l(34,"Metas Asociadas"),n(),f(35,er,2,1,"div",11)(36,tr,3,0,"p",12),n()()}if(r&2){let e=g();s(9),C(e.plan.planName),s(5),b(" ",e.plan.description,""),s(4),b(" ",Ge(19,8,e.plan.startDate,"dd/MM/yyyy HH:mm"),""),s(5),b(" ",Ge(24,11,e.plan.endDate,"dd/MM/yyyy HH:mm"),""),s(5),m("ngClass",z(29,14,e.plan.planStatus)),s(2),C(z(31,16,e.plan.planStatus)),s(5),m("ngIf",e.plan.goals&&e.plan.goals.length>0),s(),m("ngIf",!e.plan.goals||e.plan.goals.length===0)}}var ke=class r{planId=null;plan=null;storageService=c(V);planService=c(H);router=c(x);ngOnInit(){this.loadPlan()}loadPlan(){this.planId=this.storageService.getPlanId(),console.log(this.planId),this.planId!==null&&this.planService.getPlanById(this.planId).subscribe(i=>{console.log("Detalles del Plan:",i),this.plan=i},i=>{console.error("Error al obtener detalles del plan:",i)})}createNewGoal(){this.router.navigate(["customer/plan/goal"])}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-customer-plan"]],standalone:!0,features:[y],decls:1,vars:1,consts:[["class","customer-plan-container",4,"ngIf"],[1,"customer-plan-container"],[1,"plan-header"],[1,"section-title"],[1,"btn","btn-primary","btn-create-goal",3,"click"],[1,"fas","fa-plus-circle"],[1,"plan-details-card"],[1,"plan-name"],[1,"plan-info"],[1,"status-badge",3,"ngClass"],[1,"goals-section"],["class","goals-grid",4,"ngIf"],["class","no-goals-message",4,"ngIf"],[1,"goals-grid"],["class","goal-card",4,"ngFor","ngForOf"],[1,"goal-card"],[1,"goal-name"],[1,"no-goals-message"],[1,"fas","fa-info-circle"]],template:function(e,t){e&1&&f(0,ir,37,18,"div",0),e&2&&m("ngIf",t.plan)},dependencies:[F,$,K,k,Ct,yt,Pt,Ie,re],styles:[".customer-plan-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.plan-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.section-title[_ngcontent-%COMP%]{color:#006400;font-size:1.5rem;margin:0}.btn-create-goal[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400;border:none;padding:.5rem 1rem;font-weight:700;border-radius:5px;transition:background-color .3s,color .3s}.btn-create-goal[_ngcontent-%COMP%]:hover{background-color:#006400;color:#fff}.plan-details-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 2px 4px #0000001a}.plan-name[_ngcontent-%COMP%]{color:#006400;font-size:1.25rem;margin-bottom:1rem}.plan-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.5rem}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;border-radius:15px;font-size:.75rem;font-weight:700}.status-badge.active[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400}.status-badge.completed[_ngcontent-%COMP%]{background-color:#4169e1;color:#fff}.status-badge.abandoned[_ngcontent-%COMP%]{background-color:#fd2600;color:#fff}.goals-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem}.goal-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 4px #0000001a}.goal-name[_ngcontent-%COMP%]{color:#006400;font-size:1.1rem;margin-bottom:1rem}.no-goals-message[_ngcontent-%COMP%]{text-align:center;color:#666;font-style:italic}@media (max-width: 768px){.plan-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.btn-create-goal[_ngcontent-%COMP%]{margin-top:1rem}.goals-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var Fe=class r{baseURL=`${N.baseURL}/admin/goals`;http=c(R);createGoal(i){return this.http.post(`${this.baseURL}`,i)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=A({token:r,factory:r.\u0275fac,providedIn:"root"})};var De=class r{baseURL=`${N.baseURL}/admin/habits`;http=c(R);getHabits(){return this.http.get(`${this.baseURL}`)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=A({token:r,factory:r.\u0275fac,providedIn:"root"})};var rr=()=>[];function nr(r,i){if(r&1&&(o(0,"label",16),p(1,"input",17),o(2,"span",18),l(3),n()()),r&2){let e=i.$implicit;s(),m("value",e.id),s(2),C(e.name)}}function or(r,i){if(r&1&&(o(0,"div",14),f(1,nr,4,2,"label",15),n()),r&2){let e=g();s(),m("ngForOf",e.habits)}}var Te=class r{fb=c(ee);storageService=c(V);goalService=c(Fe);router=c(x);habitService=c(De);goalForm;habits=[];planId=0;minDate;showHabits=!1;constructor(){this.goalForm=this.fb.group({targetValue:["",[h.required]],currentValue:["",[h.required]],endDate:["",[h.required]],habitId:["",[h.required]]});let i=new Date;this.minDate=i.toISOString().slice(0,16)}ngOnInit(){this.habitService.getHabits().subscribe(i=>{this.habits=i},i=>{console.error("Error al cargar los h\xE1bitos:",i)})}onSubmitGoal(){if(this.goalForm.invalid)return;let i=this.goalForm.value;i.planId=this.storageService.getPlanId(),i.trackings=[],this.goalService.createGoal(i).subscribe({next:()=>{this.router.navigate(["customer/plan"])},error:e=>{console.error("Error al crear plan",e)}})}toggleHabits(){this.showHabits=!this.showHabits}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-create-goal"]],standalone:!0,features:[y],decls:23,vars:5,consts:[[1,"create-goal-container"],[1,"section-title"],[1,"goal-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","targetValue",1,"form-label"],["type","number","id","targetValue","formControlName","targetValue","required","",1,"form-input"],["for","currentValue",1,"form-label"],["type","number","id","currentValue","formControlName","currentValue","required","",1,"form-input"],["for","endDate",1,"form-label"],["type","datetime-local","id","endDate","formControlName","endDate","required","",1,"form-input",3,"min"],[1,"habit-selection-title"],["class","habit-list",4,"ngIf"],["type","submit",1,"submit-button",3,"disabled"],[1,"fas","fa-check-circle"],[1,"habit-list"],["class","habit-option",4,"ngFor","ngForOf"],[1,"habit-option"],["type","radio","formControlName","habitId","required","",1,"habit-radio",3,"value"],[1,"habit-name"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"h2",1),l(2,"Crear Nueva Meta"),n(),o(3,"form",2),_("ngSubmit",function(){return t.onSubmitGoal()}),o(4,"div",3)(5,"label",4),l(6,"Valor Objetivo:"),n(),p(7,"input",5),n(),o(8,"div",3)(9,"label",6),l(10,"Valor Actual:"),n(),p(11,"input",7),n(),o(12,"div",3)(13,"label",8),l(14,"Fecha de Finalizaci\xF3n:"),n(),p(15,"input",9),n(),o(16,"div",3)(17,"h3",10),l(18,"Seleccionar H\xE1bito"),n(),f(19,or,2,1,"div",11),n(),o(20,"button",12),p(21,"i",13),l(22," Crear Meta "),n()()()),e&2&&(s(3),m("formGroup",t.goalForm),s(12),m("min",t.minDate),s(4),m("ngIf",(t.habits||ht(4,rr)).length>0),s(),m("disabled",t.goalForm.invalid))},dependencies:[te,Z,Q,be,wt,Y,X,It,L,J,F,K,k],styles:[".create-goal-container[_ngcontent-%COMP%]{max-width:600px;margin:2rem auto;padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.section-title[_ngcontent-%COMP%]{color:#006400;font-size:1.5rem;margin-bottom:1.5rem;text-align:center}.goal-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-label[_ngcontent-%COMP%]{color:#006400;font-weight:700;margin-bottom:.5rem}.form-input[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #90EE90;border-radius:4px;font-size:1rem}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#006400;box-shadow:0 0 0 2px #0064001a}.habit-selection-title[_ngcontent-%COMP%]{color:#006400;font-size:1.2rem;margin-bottom:.5rem}.habit-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.habit-option[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.habit-radio[_ngcontent-%COMP%]{margin-right:.5rem}.habit-name[_ngcontent-%COMP%]{color:#006400}.submit-button[_ngcontent-%COMP%]{background-color:#90ee90;color:#006400;border:none;padding:.75rem 1rem;font-size:1rem;font-weight:700;border-radius:4px;cursor:pointer;transition:background-color .3s,color .3s}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#006400;color:#fff}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.submit-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}"]})};var di=(r,i)=>{let e=c(I),t=c(x);return e.existsProfile().pipe(G(a=>a?t.parseUrl("/customer/home"):!0),se(()=>ae(!0)))};var ui=(r,i)=>{let e=c(I),t=c(x);return e.existsProfile().pipe(G(a=>a?!0:t.parseUrl("/customer/create-profile")),se(()=>ae(t.parseUrl("/customer/create-profile"))))};var na=[{path:"",component:Se,children:[{path:"profile",component:Oe},{path:"create-profile",component:Me,canActivate:[di]},{path:"plan/create-plan",component:Ee},{path:"home",component:we,canActivate:[ui]},{path:"plan",component:ke},{path:"plan/goal",component:Te}]}];export{na as customerRoutes};
